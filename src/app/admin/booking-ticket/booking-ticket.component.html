
<div class="form-inline my-2 my-lg-0 float-lg-right" style="margin-right: 20px; margin-top: 20px!important;">

    <input type="search"  [(ngModel)]="variableFind"  class="form-control mr-sm-2" placeholder="Search" aria-label="Search"  >
    <button type="button" class="btn btn-outline-success my-2 my-sm-0" (click)="search()">Search <i class="fa fa-search"></i></button>

</div>

<div class="form-inline my-2 my-lg-0 float-lg-right" style="margin-right: 20px; margin-top: 20px!important;">
        <span *ngIf="message" style="color: red">
          {{message}}
          </span>
</div>
<div class="container" style="left: auto">
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th colspan="7" style="text-align: center; font-size: 20px; color: orange">TICKET MANAGEMENT</th>
        </tr>
        </thead>
        <thead>
        <tr>

            <th>Mã đặt vé</th>
            <th>Mã thành viên</th>
            <th>Họ tên</th>
            <th>CMND</th>
            <th>Số điện thoại</th>
            <th>Phim</th>
            <th>Xuất chiếu</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let ticket of ticketList ">
            <td>{{ticket.bookingCode}}</td>
            <td>{{ticket.codeCustomer}}</td>
            <td >{{ticket.nameCustomer}}</td>
            <td>{{ticket.cardIdCustomer}}</td>
            <td>{{ticket.phoneCustomer}}</td>
            <td>{{ticket.movieName}}</td>
            <td>{{ticket.status | date:'dd/MM/yyyy'}} </td>
            <td>
                <a   class="btn btn-warning" *ngIf="ticket.status">Đã nhận <i class="fa fa-check "></i></a>
                <button *ngIf="!ticket.status" type="button" class="btn btn-primary" data-toggle="modal" data-target="#formEdit" (click)="getInfo(ticket)" >
                    Nhận vé
                </button>
            </td>
        </tr>
        </tbody>
    </table>
    <div style="text-align: center">
        <button (click)="prePage()" class="btn btn-light">Previous</button>
        <span style="margin-left: 10px ; margin-right: 10px;color: black">{{this.currentPage}}</span>
        <button (click)="nexPage()" class="btn btn-light">Next</button>
    </div>
</div>

<div class="modal fade" id="formEdit" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"  >
    <div class="modal-dialog modal-dialog-centered" style="max-width: 660px" role="document">
        <div class="modal-content">
            <div class="modal-header border-bottom-0">
                <h5 class="modal-title" id="exampleModalLabel1">Xác nhận</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="container" style="margin-top: 20px">
                <div class="row">
                    <div class=" col-md-4">
                        <img src="{{ticketNew.posterUrl}}" style="width: 300px; height: auto">
                    </div>
                    <div class=" col-md-8 float-right" style="padding-left: 150px">
                        <label class="row">
                            <h3>{{ticketNew.movieName}}</h3>
                        </label>

                        <label class="row">
                            <label style="font-weight: bold">
                                Ngày chiếu:
                            </label>
                            <label style="margin-left: 5px">
                                {{ticketNew.bookingDate}}
                            </label>
                        </label>

                        <!--                        <label class="row">-->
                        <!--                            <label style="font-weight: bold">-->
                        <!--                                Giá:-->
                        <!--                            </label>-->
                        <!--                            <label style="margin-left: 5px">-->
                        <!--                                {{ticketNew.price}}-->
                        <!--                            </label>-->
                        <!--                        </label>-->
                        <label class="row">
                            <label style="font-weight: bold">
                                Tổng cộng:
                            </label>
                            <label style="margin-left: 5px">
                                {{total}}
                            </label>
                        </label>


                        <label class="row">
                            <h3>Thông tin thành viên</h3>
                        </label>

                        <label class="row">
                            <label style="font-weight: bold">
                                Mã thành viên:
                            </label>
                            <label style="margin-left: 5px">
                                {{ticketNew.codeCustomer}}
                            </label>
                        </label>

                        <label class="row">
                            <label style="font-weight: bold">
                                CMND:
                            </label>
                            <label style="margin-left: 5px">
                                {{ticketNew.cardIdCustomer}}
                            </label>
                        </label>

                        <label class="row">
                            <label style="font-weight: bold">
                                Họ tên:
                            </label>
                            <label style="margin-left: 5px">
                                {{ticketNew.nameCustomer}}
                            </label>
                        </label>

                        <label class="row">
                            <label style="font-weight: bold">
                                Số điện thoại:
                            </label>
                            <label style="margin-left: 5px">
                                {{ticketNew.phoneCustomer}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-md-12 text-center">
                    <button class="btn btn-success" style="margin-bottom: 10px; margin-top: 10px" (click)="confirm(ticketNew.idBookingTicket)">Xác nhận</button>
                </div>
            </div>

        </div>
    </div>
</div>
